<template>
    <ul class="list-group hover" v-if="this.list.length > 0">
        <li class="list-group-item">
            <div class="row">
                <div class="col-md-2">
                    <span class="over-ellipsis" data-toggle="tooltip" data-placement="top" title="QQ业务1的连通性测试测试测试">QQ业务1的连通性测试测试测试</span>
                </div>
                <div class="col-md-2 text-muted">
                    bc4b2a76b9719d91
                    <i class="glyphicon glyphicon-info-sign text-muted" data-toggle="tooltip" data-placement="right" title="任务测试的ID:bc4b2a76b9719d91"></i>
                </div>
                <div class="col-md-1 text-muted">
                    <span data-toggle="tooltip" data-placement="top" title="用例数" class="badge">12</span>
                </div>
                <div class="col-md-1 text-center">
                    <span data-toggle="tooltip" data-placement="top" title="已执行次数" >2091</span>
                </div>
                <div class="col-md-1 text-center">
                    <span data-toggle="tooltip" data-placement="top" title="成功率" class="label label-success">99.2%</span>
                </div>

                <div class="col-md-2">
                    <span class="over-ellipsis" data-toggle="tooltip" data-placement="top" title="创建人">CK.MINGMINGMING</span>
                </div>
                <div class="col-md-1 text-right">
                    <input class="mui-switch mui-switch-xs mui-switch-anim" type="checkbox" data-toggle="tooltip" data-placement="top" title="已开启">
                </div>
                
                <div class="col-md-2 pull-right">
                    <a type="button" class="btn btn-default btn-xs" title="日志" data-toggle="tooltip" data-placement="top" href="../log/list.html">
                        <i class="glyphicon glyphicon-align-justify"></i>
                    </a>
                    <button type="button" class="btn btn-default btn-xs" title="详情" data-toggle="tooltip" data-placement="top">
                        <i class="glyphicon glyphicon-list-alt"></i>
                    </button>
                    <button type="button" class="btn btn-black btn-xs" title="执行" data-toggle="tooltip" data-placement="top">
                        <i class="glyphicon glyphicon-play"></i>
                    </button>
                    <button type="button" class="btn btn-black btn-xs" title="编辑" data-toggle="tooltip" data-placement="top">
                        <i class="glyphicon glyphicon-pencil"></i>
                    </button>
                
                </div>
            </div>
        </li>
        <li class="list-group-item">
            <div class="row">
                <div class="col-md-2">
                    <span class="over-ellipsis" data-toggle="tooltip" data-placement="top" title="QQ业务1的连通性测试测试测试">QQ业务1的连通性测试测试测试</span>
                </div>
                <div class="col-md-2 text-muted">
                    bc4b2a76b9719d91
                    <i class="glyphicon glyphicon-info-sign text-muted" data-toggle="tooltip" data-placement="right" title="任务测试的ID:bc4b2a76b9719d91"></i>
                </div>
                <div class="col-md-1 text-muted">
                    <span data-toggle="tooltip" data-placement="top" title="用例数" class="badge">12</span>
                </div>
                <div class="col-md-1 text-center">
                    <span data-toggle="tooltip" data-placement="top" title="已执行次数" >2091</span>
                </div>
                <div class="col-md-1 text-center">
                    <span data-toggle="tooltip" data-placement="top" title="成功率" class="label label-warning">76.5%</span>
                </div>

                <div class="col-md-2">
                    <span class="over-ellipsis" data-toggle="tooltip" data-placement="top" title="创建人">CK.MINGMINGMING</span>
                </div>
                <div class="col-md-1 text-right opera">
                    <input class="mui-switch mui-switch-xs mui-switch-anim" type="checkbox" data-toggle="tooltip" data-placement="top" title="已开启">
                </div>
                
                <div class="col-md-2 pull-right opera">
                    <a type="button" class="btn btn-default btn-xs" title="日志" data-toggle="tooltip" data-placement="top" href="../log/list.html">
                        <i class="glyphicon glyphicon-align-justify"></i>
                    </a>
                    <button type="button" class="btn btn-default btn-xs" title="详情" data-toggle="tooltip" data-placement="top">
                        <i class="glyphicon glyphicon-list-alt"></i>
                    </button>
                    <button type="button" class="btn btn-black btn-xs" data-action="run" title="执行" data-toggle="tooltip" data-placement="top">
                        <i class="glyphicon glyphicon-play"></i>
                    </button>
                    <button type="button" class="btn btn-black btn-xs" title="编辑" data-toggle="tooltip" data-placement="top">
                        <i class="glyphicon glyphicon-pencil"></i>
                    </button>
                
                </div>
            </div>
        </li>
        <li class="list-group-item disabled">
            <div class="row">
                <div class="col-md-2">
                    <span class="over-ellipsis" data-toggle="tooltip" data-placement="top" title="QQ业务1的连通性测试测试测试">QQ业务1的连通性测试测试测试</span>
                </div>
                <div class="col-md-2 text-muted">
                    bc4b2a76b9719d91
                    <i class="glyphicon glyphicon-info-sign text-muted" data-toggle="tooltip" data-placement="right" title="任务测试的ID:bc4b2a76b9719d91"></i>
                </div>
                <div class="col-md-1 text-muted">
                    <span data-toggle="tooltip" data-placement="top" title="用例数" class="badge">12</span>
                </div>
                <div class="col-md-1 text-center">
                    <span data-toggle="tooltip" data-placement="top" title="已执行次数" >2091</span>
                </div>
                <div class="col-md-1 text-center">
                    <span data-toggle="tooltip" data-placement="top" title="成功率" class="label label-danger">35.2%</span>
                </div>

                <div class="col-md-2">
                    <span class="over-ellipsis" data-toggle="tooltip" data-placement="top" title="创建人">CK.MINGMINGMING</span>
                </div>
                
                <div class="col-md-1 text-right hide">
                    <input class="mui-switch mui-switch-xs mui-switch-anim" type="checkbox" data-toggle="tooltip" data-placement="top" title="已开启">
                </div>
                
                <div class="col-md-2 pull-right hide">
                    <a type="button" class="btn btn-default btn-xs" title="日志" data-toggle="tooltip" data-placement="top" href="../log/list.html">
                        <i class="glyphicon glyphicon-align-justify"></i>
                    </a>
                    <button type="button" class="btn btn-default btn-xs" title="详情" data-toggle="tooltip" data-placement="top">
                        <i class="glyphicon glyphicon-list-alt"></i>
                    </button>
                    <button type="button" class="btn btn-black btn-xs" title="执行" data-toggle="tooltip" data-placement="top">
                        <i class="glyphicon glyphicon-play"></i>
                    </button>
                    <button type="button" class="btn btn-black btn-xs" title="编辑" data-toggle="tooltip" data-placement="top">
                        <i class="glyphicon glyphicon-pencil"></i>
                    </button>
                </div>
                <div class="col-md-3 text-center">
                    <span class="text-muted over-ellipsis">正在执行中...</span>
                </div>
                
            </div>
            <div class="progress full-progress progress-black">
                <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 45%">
                    <span class="sr-only">45% Complete</span>
                </div>
            </div>
        </li>
        <li class="list-group-item">
            <div class="row">
                <div class="col-md-2">
                    <span class="over-ellipsis" data-toggle="tooltip" data-placement="top" title="QQ业务1的连通性测试测试测试">QQ业务1的连通性测试测试测试</span>
                </div>
                <div class="col-md-2 text-muted">
                    bc4b2a76b9719d91
                    <i class="glyphicon glyphicon-info-sign text-muted" data-toggle="tooltip" data-placement="right" title="任务测试的ID:bc4b2a76b9719d91"></i>
                </div>
                <div class="col-md-1 text-muted">
                    <span data-toggle="tooltip" data-placement="top" title="用例数" class="badge">12</span>
                </div>
                <div class="col-md-1 text-center">
                    <span data-toggle="tooltip" data-placement="top" title="已执行次数" >2091</span>
                </div>
                <div class="col-md-1 text-center">
                    <span data-toggle="tooltip" data-placement="top" title="成功率" class="label label-danger">35.2%</span>
                </div>

                <div class="col-md-2">
                    <span class="over-ellipsis" data-toggle="tooltip" data-placement="top" title="创建人">CK.MINGMINGMING</span>
                </div>
                
                <div class="col-md-1 text-right ">
                    <input class="mui-switch mui-switch-xs mui-switch-anim" type="checkbox" data-toggle="tooltip" data-placement="top" title="已开启">
                </div>
                
                <div class="col-md-2 pull-right ">
                    <a type="button" class="btn btn-default btn-xs" title="日志" data-toggle="tooltip" data-placement="top" href="../log/list.html">
                        <i class="glyphicon glyphicon-align-justify"></i>
                        <em class="red-dot"></em>
                    </a>
                    <button type="button" class="btn btn-default btn-xs" title="详情" data-toggle="tooltip" data-placement="top">
                        <i class="glyphicon glyphicon-list-alt"></i>
                    </button>
                    <button type="button" class="btn btn-black btn-xs" title="执行" data-toggle="tooltip" data-placement="top">
                        <i class="glyphicon glyphicon-play"></i>
                    </button>
                    <button type="button" class="btn btn-black btn-xs" title="编辑" data-toggle="tooltip" data-placement="top">
                        <i class="glyphicon glyphicon-pencil"></i>
                    </button>
                </div>
                
                
            </div>
            <div class="progress full-progress progress-black hide">
                <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 45%">
                    <span class="sr-only">45% Complete</span>
                </div>
            </div>
        </li>
    </ul>
    <div class="text-muted text-center" v-else>
        暂无数据...
    </div>
</template>
<script>
    export default {
        data() {
            return {
                pid: 0,
                list: [],
                total: 0
            }
        },
        async mounted() {
            try {
                let params = this.$router.history.current.params;
                this.pid = params.id || 0
                let res = await this.$store.dispatch('getTasksByPid',this.pid)
                this.total = res.total;
                this.list = res.list;
            } catch(e) {
                console.error(e);
                alert('获取数据出错')
            }
        }
    }
</script>
